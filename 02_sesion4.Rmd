# CreaciÃ³n de viÃ±etas

JosÃ© Antonio Ovando RicÃ¡rdez

05 de agosto de 2025

<style>

div.color { 
border-radius: 5px; 
padding: 20px;
margin: 30px 0px 30px;}

div.red { background-color:#f67155; }

div.orange{ background-color:#f0BB51;}

div.pair { 	
display: flex;
flex-direction: row;
justify-content: center;
text-align:center;
padding:0px}

div.inside { width: 49%; padding: 0px}

div.scroll { 
max-height: 400px; 
overflow-y: auto; 
background: #111111;
border-radius:5px;
padding: 10px;
margin: 30px 0px 30px;
color: #999999;}

div.alert{color:#bd475d; background-color:transparent}
</style>


## Â¿QuÃ© es una viÃ±eta/vignette? ğŸ“âœ¨

Es una guÃ­a extendida sobre cÃ³mo funciona el paquete. Es recomendable que muestre cÃ³mo utilizar las funciones del paquete, aplicado en un flujo de trabajo; por ejemplo: el anÃ¡lisis estadÃ­stico de una encuesta ğŸ“Š o el anÃ¡lisis de expresiÃ³n diferencial de genes.

Podemos estructurarlo como harÃ­amos con la escritura de un capÃ­tulo de libro o de un artÃ­culo cientÃ­fico: debe mostrar el problema a resolver y la metodologÃ­a paso a paso sobre cÃ³mo el paquete lo resuelve.

Si el paquete contiene funciones que se complementan entre sÃ­ para alcanzar un fin especÃ­fico, entonces debes mostrar su uso de forma compartamentalizada. 

## CaracterÃ­sticas de una vignette ğŸŒŸ

- Debe mostrar un flujo de anÃ¡lisis explotando el potencial de tu paquete ğŸ“ŠğŸš€.
- Implementa tantas funciones de tu paquete como sea posible, pero no es necesario que incluya todas ğŸ› ï¸âœ¨.
- Los datos a usar deben ser pequeÃ±os o fÃ¡ciles de acceder ğŸ“‚ğŸ”.
- Puedes crear mÃºltiples viÃ±etas para mostrar diferentes casos de anÃ¡lisis y cubrir una mayor cantidad de funciones ğŸ“ğŸ“š.

## Â¿CÃ³mo consultar la viÃ±eta de un paquete? â“ğŸ”

```{r, eval=FALSE}
browseVignettes(package = "ggplot2")
```

## Â¿CÃ³mo crear una viÃ±eta? â“ğŸ”

```{r, eval=FALSE}
biocthis::use_bioc_vignette("mi_vignette")
```

Esta funciÃ³n tendrÃ¡ tres efectos âœ¨:

- Generar el directorio **vignettes** en caso que no exista ğŸ“‚ğŸ”§.
- Agregar dependencias en el archivo **DESCRIPTION** (por ejemplo, _knitr_ necesario para construir viÃ±etas dentro del paquete) ğŸ“„ğŸ“¦.
- Abrir un template en formato **.Rmd** para comenzar a escribir la viÃ±eta, que se va a guardar en **vignettes/mi_vignette.Rmd** ğŸ“ğŸ’¾.

## Â¿CÃ³mo guardar y actualizar la viÃ±eta? ğŸ”„ğŸ’»

Una vez que se ha generado el archivo **vignettes/mi_vignette.Rmd**, se hacen las modificaciones necesarias. Puedes usar el comando:

```{r, eval=FALSE}
edit_file("vignettes/mi_vignette.Rmd")
```

Para guardar los cambios, debes hacer clic en el botÃ³n **Knit** o utiliza la combinaciÃ³n de teclas **Ctrl/Cmd-Shift-K** ğŸ’¾âœ¨.

## Veamos un ejemplo ğŸ”ğŸ‘¨â€ğŸ’»

Busca la viÃ±eta del paquete **regutools** en la pÃ¡gina de Bioconductor ğŸŒ:

[ViÃ±eta de regutools en Bioconductor](https://bioconductor.org/packages/release/bioc/html/regutools.html) ğŸ“¦ğŸ“„

```{r, echo=FALSE, fig.align='center', out.width='50%'}
knitr::include_graphics("img/regutools.png")
```

## Actividad

<div class = "orange color">

### Ejercicio 1: IdentificaciÃ³n de viÃ±etas en paquetes de interÃ©s en Bioconductor ğŸ“šğŸ”

- En equipos selecciona dos paquetes almacenados en Bioconductor que sean de tu interÃ©s y responde las siguientes preguntas:

  - Â¿Ambos paquetes incluyen viÃ±etas? ğŸ“â“
  
  - Â¿QuÃ© aspectos de la viÃ±eta del paquete A versus el paquete B te llaman mÃ¡s la atenciÃ³n? ğŸ”ğŸ¤”
  
  - Â¿Consideras que alguna viÃ±eta estÃ¡ mejor desarrollada que la otra? Explica por quÃ© ğŸ’­ğŸ“Š.

</div>

<div class = "orange color">

### Ejercicio 2: CreaciÃ³n de viÃ±etas en R ğŸ› ï¸ğŸ“„

Pasos:

1. Cargar los paquetes necesarios

```{r}
library(usethis)
library(biocthis)
```

2. Crear un nuevo paquete de R (si no tienes uno ya creado)

```{r, eval=FALSE}
usethis::create_package("CDSB2024")
```

3. Configurar el paquete para Bioconductor

Ejecuta el siguiente comando para configurar el paquete con las mejores prÃ¡cticas de Bioconductor:

```{r, eval=FALSE}
biocthis::use_bioc_pkg_templates()
```

Esto agregarÃ¡ varios archivos de configuraciÃ³n y plantillas Ãºtiles para trabajar con Bioconductor.

4. Crear una viÃ±eta con biocthis

Ejecuta el siguiente comando para agregar una viÃ±eta en formato R Markdown. Cambia "mi_vignette" por el tÃ­tulo de la viÃ±eta que prefieran.

```{r, eval=FALSE}
usethis::use_vignette("mi_vignette_usethis")
biocthis::use_bioc_vignette("mi_vignette_biocthis")
```

Esto crearÃ¡ un archivo R Markdown en la carpeta vignettes/ dentro del paquete.

5. Editar la viÃ±eta

Abre el archivo creado en vignettes .Rmd. Incluye contenido que describa una funciÃ³n del paquete.

6. Abrir la viÃ±eta en el navegador y renderiza el archivo .Rmd

```{r, eval=FALSE}
browseVignettes("CDSB2024")
```

</div>

### Preguntas de ReflexiÃ³n ğŸ¤”ğŸ’­

- Â¿CuÃ¡l es la ventaja de documentar ejemplos de uso en una viÃ±eta? ğŸ“šâœ¨
  
- Â¿QuÃ© estructura consideras Ãºtil para presentar ejemplos en una viÃ±eta? ğŸ—ï¸ğŸ”
  
- Â¿CÃ³mo aplicarÃ­as esta clase en tu proyecto colaborativo? ğŸ¤ğŸ“ˆ

